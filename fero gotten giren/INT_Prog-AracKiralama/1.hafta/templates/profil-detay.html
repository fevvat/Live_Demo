{% extends 'base.html' %}
{% block title %}Profil Düzenle - Aslan Car Rental{% endblock %}
{% block content %}
<style>
    .sidebar {
        position: sticky;
        top: 20px;
        height: fit-content;
    }
    .profile-card {
        border: 1px solid #e9ecef;
        border-radius: 10px;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    }
    .info-card-header {
        background-color: #f8f9fa;
        border-bottom: 1px solid #e9ecef;
        padding: 0.75rem 1.25rem;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px; 
        font-weight: bold;
        color: #495057;
    }
    .info-card-body {
        padding: 1.25rem;
    }
</style>

<div class="container mt-5">
    <h2>Profil Düzenle</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST">
        <div class="mb-3">
            <label for="full_name" class="form-label">Ad Soyad</label>
            <input type="text" class="form-control" id="full_name" name="full_name" value="{{ user.full_name }}">
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">E-posta</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}">
        </div>
        <div class="mb-3">
            <label for="phone" class="form-label">Telefon</label>
            <input type="text" class="form-control" id="phone" name="phone" value="{{ user.phone }}">
        </div>
        <div class="mb-3">
            <label for="city" class="form-label">Şehir</label>
            <input type="text" class="form-control" id="city" name="city" value="{{ user.city }}">
        </div>
        <div class="mb-3">
            <label for="district" class="form-label">İlçe</label>
            <input type="text" class="form-control" id="district" name="district" value="{{ user.district }}">
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Adres</label>
            <textarea class="form-control" id="address" name="address">{{ user.address }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary">Kaydet</button>
        <a href="{{ url_for('profil') }}" class="btn btn-secondary">İptal</a>
        <a href="{{ url_for('profil') }}" class="btn btn-danger">Profil'e Dön</a>
    </form>
</div>
{% endblock %}
